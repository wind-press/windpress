/**
 * Common Block Styles
 *
 * Styles for WindPress Common Block functionality
 */



/**
 * cb-text-node: Custom element wrapper for TEXT_NODE in html2blocks parser
 * Display as inline to match natural text node flow behavior
 */
cb-text-node {
	display: inline;
}

/**
 * Editor Styles - Visual Feedback for Common Blocks
 *
 * Note: With the isolation script in place, Gutenberg's block-editor styles
 * won't affect elements inside .windpress-common-block. We need to style
 * both the outer block wrapper AND the inner .windpress-common-block element.
 */

/**
 * Block Appender Styles
 * These styles control the "+" button for adding child blocks
 */

/* Hide all appenders by default for common blocks */
.windpress-common-block .block-list-appender {
	display: none !important;
}

/* Show appender only on the selected block - positioned at bottom-right */
.windpress-common-block.is-selected > .block-list-appender {
	display: flex !important;
	position: absolute !important;
	bottom: -36px !important;
	right: 0 !important;
	left: auto !important;
	width: auto !important;
	padding: 0 !important;
	margin: 0 !important;
	opacity: 0 !important;
	transition: opacity 0.2s ease !important;
	pointer-events: auto !important;
	z-index: 100 !important;
}

/* Show appender on hover of selected block */
.windpress-common-block.is-selected:hover > .block-list-appender {
	opacity: 1 !important;
}

/* Force show appender when hovering over it directly */
.windpress-common-block.is-selected > .block-list-appender:hover {
	opacity: 1 !important;
}

/* Style the appender button itself - square button */
.windpress-common-block.is-selected > .block-list-appender .block-editor-button-block-appender {
	width: 36px !important;
	height: 36px !important;
	min-width: 36px !important;
	min-height: 36px !important;
	padding: 0 !important;
	display: flex !important;
	align-items: center !important;
	justify-content: center !important;
	background: #007cba !important;
	color: white !important;
	border-radius: 0 0 4px 4px !important;
	transition: all 0.2s ease !important;
	border: 2px solid rgba(0, 124, 186, 0.6) !important;
	border-top: none !important;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
}

.windpress-common-block.is-selected > .block-list-appender .block-editor-button-block-appender:hover {
	background: #1e1e1e !important;
	border-color: rgba(0, 124, 186, 0.8) !important;
	box-shadow: 0 3px 12px rgba(0, 124, 186, 0.3) !important;
}

.windpress-common-block.is-selected > .block-list-appender .block-editor-button-block-appender svg {
	fill: white !important;
	width: 24px !important;
	height: 24px !important;
}

/**
 * Visual Feedback Styles for .windpress-common-block wrapper
 * These work inside the isolated context
 */

/* Subtle hover state - uses box-shadow instead of outline to not affect layout */
.windpress-common-block:hover {
	box-shadow: inset 0 0 0 1px rgba(0, 124, 186, 0.25) !important;
}

/* Selected block gets a more visible indicator without affecting layout */
.windpress-common-block.is-selected {
	box-shadow: inset 0 0 0 1px rgba(0, 124, 186, 0.5) !important;
	position: relative !important;
}

/* Add selection badge in top-left corner - shows tag name */
.windpress-common-block.is-selected::before {
	content: "[" attr(data-title) "] <" attr(data-tag) ">" !important;
	position: absolute !important;
	top: -22px !important;
	left: 0 !important;
	background: #2271b1 !important;
	color: white !important;
	font-size: 10px !important;
	line-height: 16px !important;
	height: 22px !important;
	padding: 3px 8px !important;
	border-radius: 3px 3px 0 0 !important;
	font-weight: 600 !important;
	z-index: 10 !important;
	letter-spacing: 0.5px !important;
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif !important;
	pointer-events: none !important;
	white-space: nowrap !important;
	overflow: hidden !important;
	text-overflow: ellipsis !important;
	max-width: 200px !important;
	display: inline-block !important;
	vertical-align: middle !important;
}

/* Don't show badge when child is selected */
.windpress-common-block.has-child-selected::before {
	display: none !important;
}

/**
 * Additional block wrapper styles
 * These target the outer Gutenberg block wrapper
 */

/* Don't show appender when child is selected */
.windpress-common-block.has-child-selected > .block-list-appender {
	display: none !important;
}

.windpress-common-block.block-editor-block-list__layout.is-root-container > .wp-block[data-align="full"] {
	margin-left: 0 !important;
	margin-right: 0 !important;
	max-width: 100% !important;
	clear: both !important;
}